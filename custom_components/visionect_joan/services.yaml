# custom_components/visionect_joan/services.yaml

set_url:
  name: Set Custom URL
  description: >-
    Changes the URL displayed on the device screen. To set a predefined view, use the 'select.select_option' service with the 'Choose view' entity of your device.
  fields:
    device_id:
      name: Device
      description: The Visionect device to perform the action on.
      required: true
      selector:
        device:
          integration: visionect_joan
    url:
      name: URL
      description: >-
        The new URL to display.
      required: true
      example: "http://192.168.1.10:8123/local/dashboard.png"
      selector:
        text:

send_text:
  name: Send Text Message
  description: Sends a text message, optionally with an image, optimized for e-ink display.
  fields:
    device_id:
      name: Device
      description: The Visionect e-ink device to send the message to.
      required: true
      selector:
        device:
          integration: visionect_joan
    message:
      name: Message
      description: The text message to display on the e-ink screen.
      required: true
      example: "Meeting at 2:00 PM"
      selector:
        text:
          multiline: true
    layout:
      name: Layout
      description: Arrangement of text and image on the screen.
      required: false
      default: "text_only"
      selector:
        select:
          options:
            - label: "Text Only"
              value: "text_only"
            - label: "Image Above Text"
              value: "image_top"
            - label: "Image Below Text"
              value: "image_bottom"
            - label: "Image to the Left of Text"
              value: "image_left"
            - label: "Image to the Right of Text"
              value: "image_right"
    image_url:
      name: Image URL
      description: >-
        URL of the image to display. Optional.
        For local images, use the format `http://<YOUR_HA_IP>:8123/local/image.png`.
      required: false
      example: "http://192.168.1.10:8123/local/weather.png"
      selector:
        text:
    image_zoom:
      name: Image Size
      description: "Adjusts the image size. 100% is the original size, <100% shrinks, >100% enlarges the image."
      required: false
      default: 100
      selector:
        number:
          min: 50
          max: 200
          step: 5
          mode: slider
          unit_of_measurement: "%"
    text_color:
      name: Text Color
      description: Color of the text (black or white for e-ink).
      required: false
      default: "black"
      selector:
        select:
          options:
            - label: "Black"
              value: "black"
            - label: "White"
              value: "white"
    background_color:
      name: Background Color
      description: Background color of the e-ink screen.
      required: false
      default: "white"
      selector:
        select:
          options:
            - label: "White"
              value: "white"
            - label: "Black"
              value: "black"
    text_size:
      name: Text Size
      description: Size of the text in pixels.
      required: false
      default: 28
      example: 32
      selector:
        number:
          min: 10
          max: 150
          step: 1
          mode: slider
          unit_of_measurement: "px"
    text_align:
      name: Text Alignment
      description: Text alignment on the screen.
      required: false
      default: "center"
      selector:
        select:
          options:
            - label: "Left"
              value: "left"
            - label: "Center"
              value: "center"
            - label: "Right"
              value: "right"
    font_family:
      name: Font Family
      description: Themed font family for e-ink readability.
      required: false
      default: "Nowoczesna"
      selector:
        select:
          options:
            - label: "Nowoczesna"
              value: "Nowoczesna"
            - label: "Czytelna"
              value: "Czytelna"
            - label: "Archivo Black"
              value: "Archivo Black"
            - label: "Arbutus"
              value: "Arbutus"
            - label: "Asimovian"
              value: "Asimovian"
            - label: "Bangers"
              value: "Bangers"
            - label: "Blaka"
              value: "Blaka"
            - label: "Bungee"
              value: "Bungee"
            - label: "Bungee Shade"
              value: "Bungee Shade"
            - label: "Cherry Bomb One"
              value: "Cherry Bomb One"
            - label: "Cinzel Decorative"
              value: "Cinzel Decorative"
            - label: "Damion"
              value: "Damion"
            - label: "Diplomata SC"
              value: "Diplomata SC"
            - label: "Fascinate"
              value: "Fascinate"
            - label: "Joti One"
              value: "Joti One"
            - label: "Libertinus Keyboard"
              value: "Libertinus Keyboard"
            - label: "MedievalSharp"
              value: "MedievalSharp"
            - label: "Michroma"
              value: "Michroma"
            - label: "New Rocker"
              value: "New Rocker"
            - label: "Rubik Wet Paint"
              value: "Rubik Wet Paint"
            - label: "Spicy Rice"
              value: "Spicy Rice"
            - label: "Story Script"
              value: "Story Script"
    font_weight:
      name: Font Weight
      description: Sets the weight (thickness) of the font.
      required: false
      default: "normal"
      selector:
        select:
          options:
            - label: "Normal"
              value: "normal"
            - label: "Bold"
              value: "bold"

set_display_rotation:
  name: Set Display Rotation
  description: Changes the display rotation of the Joan tablet screen.
  fields:
    device_id:
      name: Device
      description: The Joan device to change display rotation for.
      required: true
      selector:
        device:
          integration: visionect_joan
    display_rotation:
      name: Display Rotation
      description: The display rotation to set on the Joan tablet.
      required: true
      selector:
        select:
          options:
            - label: "Landscape"
              value: "0"
            - label: "Portrait, 90°"
              value: "1"
            - label: "Landscape, 180°"
              value: "2"
            - label: "Portrait, 270°"
              value: "3"

force_refresh:
  name: Force Refresh
  description: Forces the device to immediately reload and display the content from its currently configured URL.
  fields:
    device_id:
      name: Device
      description: The Visionect device to refresh.
      required: true
      selector:
        device:
          integration: visionect_joan

clear_display:
  name: Clear Display
  description: Clears the device's e-ink screen, typically to a white screen.
  fields:
    device_id:
      name: Device
      description: The Visionect device to clear.
      required: true
      selector:
        device:
          integration: visionect_joan

sleep_device:
  name: Sleep Device
  description: Puts the device into a low-power sleep mode to conserve battery.
  fields:
    device_id:
      name: Device
      description: The Visionect device to put to sleep.
      required: true
      selector:
        device:
          integration: visionect_joan
    duration:
      name: Duration
      description: The sleep duration in seconds. The device will wake up automatically after this time.
      required: false
      default: 3600
      example: 7200
      selector:
        number:
          min: 1
          max: 604800 # 7 days
          mode: box
          unit_of_measurement: "s"

wake_device:
  name: Wake Device
  description: Immediately wakes the device up from sleep mode.
  fields:
    device_id:
      name: Device
      description: The Visionect device to wake up.
      required: true
      selector:
        device:
          integration: visionect_joan

send_qr_code:
  name: Send QR Code
  description: Generates a QR code and displays it on the device screen.
  fields:
    device_id:
      name: Device
      description: The Visionect device to display the QR code on.
      required: true
      selector:
        device:
          integration: visionect_joan
    data:
      name: Data
      description: The text or URL to encode in the QR code.
      required: true
      example: "WIFI:T:WPA;S:MyNetwork;P:MyPassword;;"
      selector:
        text:
    message:
      name: Message
      description: An optional message to display with the QR code.
      required: false
      example: "Scan for Guest Wi-Fi"
      selector:
        text:
    qr_message_text_size:
      name: Message Text Size
      description: The font size of the optional message in pixels.
      required: false
      default: 24
      selector:
        number:
          min: 10
          max: 100
          mode: slider
          unit_of_measurement: "px"
    qr_message_position:
      name: Message Position
      description: The position of the optional message relative to the QR code.
      required: false
      default: "below"
      selector:
        select:
          options:
            - label: "Below QR Code"
              value: "below"
            - label: "Above QR Code"
              value: "above"
    box_size:
      name: Box Size
      description: The size of each box (pixel) in the QR code.
      required: false
      default: 10
      selector:
        number:
          min: 1
          max: 30
          mode: slider
    border:
      name: Border
      description: The thickness of the border around the QR code.
      required: false
      default: 4
      selector:
        number:
          min: 0
          max: 10
          mode: slider
    fill_color:
      name: QR Code Color
      description: The color of the QR code itself.
      required: false
      default: "black"
      selector:
        select:
          options:
            - label: "Black"
              value: "black"
            - label: "White"
              value: "white"
    back_color:
      name: Background Color
      description: The background color of the QR code.
      required: false
      default: "white"
      selector:
        select:
          options:
            - label: "White"
              value: "white"
            - label: "Black"
              value: "black"